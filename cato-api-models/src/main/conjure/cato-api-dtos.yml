types:
  definitions:
    default-package: org.cato.catoapimodels
    objects:
      MachineInfoDto:
        fields:
          cpu_name: string
          cores: integer
          memory: double

      ComparisonMethodDto:
        values:
          - SSIM

      ComparisonSettingsDto:
        fields:
          method: ComparisonMethodDto
          threshold: double

      TestForRunCreation:
        fields:
          test_name: string
          test_identifier: string
          test_command: string
          test_variables: map<string, string>
          comparison_settings: ComparisonSettingsDto

      TestSuiteForRunCreation:
        fields:
          suite_name: string
          suite_variables: map<string, string>
          tests: list<TestForRunCreation>

      CreateFullRunDto:
        fields:
          project_id: integer
          test_suites: list<TestSuiteForRunCreation>
          branch_name: optional<string>

      RunStatusDto:
        values:
          - NOT_STARTED
          - RUNNING
          - SUCCESS
          - FAILED

      RunDto:
        fields:
          id: integer
          project_id: integer
          started_at: datetime
          status: RunStatusDto
          duration: double
          branch_name: string

      RunSummaryDto:
        fields:
          run: RunDto
          suite_count: integer
          test_count: integer
          waiting_test_count: integer
          running_test_count: integer
          failed_test_count: integer
          succeeded_test_count: integer

      TestStatusDto:
        values:
          - SUCCESS
          - FAILED

      UnifiedTestStatusDto:
        values:
          - NOT_STARTED
          - RUNNING
          - SUCCESS
          - FAILED

      ImageChannelDto:
        fields:
          id: integer
          name: string
          file_id: integer

      ImageDto:
        fields:
          id: integer
          name: string
          original_file_id: integer
          channels: list<ImageChannelDto>
          width: integer
          height: integer

      TestResultDto:
        fields:
          id: integer
          suite_result_id: integer
          test_name: string
          test_identifier: string
          test_command: string
          test_variables: map<string, string>
          machine_info: MachineInfoDto
          unified_test_status: UnifiedTestStatusDto
          seconds: optional<double>
          message: optional<string>
          image_output: optional<ImageDto>
          reference_image: optional<ImageDto>
          diff_image: optional<ImageDto>
          started_at: optional<datetime>
          finished_at: optional<datetime>
          comparison_settings: optional<ComparisonSettingsDto>
          error_value: optional<double>
          thumbnail_file_id: optional<integer>

      SuiteStatusDto:
        values:
          - NOT_STARTED
          - RUNNING
          - SUCCESS
          - FAILED

      SuiteResultDto:
        fields:
          id: integer
          run_id: integer
          suite_name: string
          suite_variables: map<string, string>
          status: SuiteStatusDto

      TestResultShortSummaryDto:
        fields:
          id: integer
          name: string
          test_identifier: string
          unified_test_status: UnifiedTestStatusDto
          thumbnail_file_id: optional<integer>

      SuiteResultSummaryDto:
        fields:
          id: integer
          runId: integer
          suite_name: string
          suite_variables: map<string, string>
          tests: list<TestResultShortSummaryDto>

      TestHeartbeatDto:
        fields:
          id: integer
          test_result_id: integer
          last_beat: datetime

      TestFailureReasonDto:
        values:
          - EXIT_CODE_NON_ZERO
          - REFERENCE_IMAGE_MISSING
          - OUTPUT_IMAGE_MISSING
          - REFERENCE_AND_OUTPUT_IMAGE_MISSING
          - IMAGES_ARE_NOT_EQUAL
          - TIMED_OUT

      FinishTestResultDto:
        fields:
          id: integer
          status: TestStatusDto,
          seconds: double,
          message: string,
          image_output: optional<integer>
          reference_image: optional<integer>
          diff_image: optional<integer>
          error_value: optional<double>
          failure_reason: optional<TestFailureReasonDto>

      StartTestResultDto:
        fields:
          id: integer
          machine_info: MachineInfoDto
